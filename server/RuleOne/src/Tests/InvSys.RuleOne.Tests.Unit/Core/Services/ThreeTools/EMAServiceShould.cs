using System;
using System.Collections.Generic;
using System.Linq;
using InvSys.RuleOne.Core.Models.ThreeTools;
using InvSys.RuleOne.Core.Services;
using InvSys.RuleOne.Core.Services.ThreeTools;
using InvSys.StockQuotes.Api.Client.Proxy.Models;
using Xunit;

namespace InvSys.RuleOne.Tests.Unit.Core.Services.ThreeTools
{
    public class EMAServiceShould
    {
        [Fact]
        public void CalculateCorrectEMAData()
        {
            // Arrange
            #region Prices
            var prices = new List<HistoricalQuote>
            {
                new HistoricalQuote {Date = new DateTime(2013, 1, 2), Close = 27.62},
                new HistoricalQuote {Date = new DateTime(2013, 1, 3), Close = 27.25},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 4), Close = 26.74},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 7), Close = 26.69},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 8), Close = 26.55},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 9), Close = 26.7},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 10), Close = 26.46},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 11), Close = 26.83},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 14), Close = 26.89},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 15), Close = 27.21},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 16), Close = 27.04},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 17), Close = 27.25},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 18), Close = 27.25},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 22), Close = 27.15},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 23), Close = 27.61},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 24), Close = 27.63},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 25), Close = 27.88},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 28), Close = 27.91},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 29), Close = 28.01},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 30), Close = 27.85},
                new HistoricalQuote {Date = new DateTime(2013, 1 , 31), Close = 27.45},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 1), Close = 27.93},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 4), Close = 27.44},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 5), Close = 27.5},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 6), Close = 27.34},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 7), Close = 27.28},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 8), Close = 27.55},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 11), Close = 27.86},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 12), Close = 27.88},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 13), Close = 28.03},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 14), Close = 28.04},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 15), Close = 28.01},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 19), Close = 28.05},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 20), Close = 27.87},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 21), Close = 27.49},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 22), Close = 27.76},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 25), Close = 27.37},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 26), Close = 27.37},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 27), Close = 27.81},
                new HistoricalQuote {Date = new DateTime(2013, 2 , 28), Close = 27.8},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 1), Close = 27.95},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 4), Close = 28.15},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 5), Close = 28.35},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 6), Close = 28.09},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 7), Close = 28.14},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 8), Close = 28},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 11), Close = 27.87},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 12), Close = 27.91},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 13), Close = 27.92},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 14), Close = 28.14},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 15), Close = 28.04},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 18), Close = 28.1},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 19), Close = 28.18},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 20), Close = 28.32},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 21), Close = 28.11},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 22), Close = 28.25},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 25), Close = 28.16},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 26), Close = 28.16},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 27), Close = 28.37},
                new HistoricalQuote {Date = new DateTime(2013, 3 , 28), Close = 28.61},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 1), Close = 28.61},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 2), Close = 28.8},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 3), Close = 28.56},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 4), Close = 28.6},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 5), Close = 28.7},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 8), Close = 28.59},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 9), Close = 29.61},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 10), Close = 30.28},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 11), Close = 28.94},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 12), Close = 28.79},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 15), Close = 28.69},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 16), Close = 28.97},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 17), Close = 28.83},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 18), Close = 28.79},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 19), Close = 29.77},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 22), Close = 30.83},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 23), Close = 30.6},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 24), Close = 31.76},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 25), Close = 31.94},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 26), Close = 31.79},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 29), Close = 32.61},
                new HistoricalQuote {Date = new DateTime(2013, 4 , 30), Close = 33.1},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 1), Close = 32.72},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 2), Close = 33.16},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 3), Close = 33.49},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 6), Close = 33.75},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 7), Close = 33.31},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 8), Close = 32.99},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 9), Close = 32.66},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 10), Close = 32.69},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 13), Close = 33.03},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 14), Close = 33.53},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 15), Close = 33.85},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 16), Close = 34.08},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 17), Close = 34.87},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 20), Close = 35.08},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 21), Close = 34.85},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 22), Close = 34.61},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 23), Close = 34.15},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 24), Close = 34.27},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 28), Close = 35.02},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 29), Close = 34.88},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 30), Close = 35.03},
                new HistoricalQuote {Date = new DateTime(2013, 5 , 31), Close = 34.9},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 3), Close = 35.59},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 4), Close = 34.99},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 5), Close = 34.78},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 6), Close = 34.96},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 7), Close = 35.67},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 10), Close = 35.47},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 11), Close = 34.84},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 12), Close = 35},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 13), Close = 34.72},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 14), Close = 34.4},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 17), Close = 35},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 18), Close = 34.98},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 19), Close = 34.59},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 20), Close = 33.49},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 21), Close = 33.27},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 24), Close = 33.72},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 25), Close = 33.67},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 26), Close = 34.35},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 27), Close = 34.62},
                new HistoricalQuote {Date = new DateTime(2013, 6 , 28), Close = 34.54},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 1), Close = 34.36},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 2), Close = 33.94},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 3), Close = 34.01},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 5), Close = 34.21},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 8), Close = 34.33},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 9), Close = 34.35},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 10), Close = 34.7},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 11), Close = 35.69},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 12), Close = 35.67},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 15), Close = 36.17},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 16), Close = 36.27},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 17), Close = 35.74},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 18), Close = 35.44},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 19), Close = 31.4},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 22), Close = 32.01},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 23), Close = 31.82},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 24), Close = 31.96},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 25), Close = 31.39},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 26), Close = 31.62},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 29), Close = 31.54},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 30), Close = 31.85},
                new HistoricalQuote {Date = new DateTime(2013, 7 , 31), Close = 31.84},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 1), Close = 31.67},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 2), Close = 31.89},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 5), Close = 31.7},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 6), Close = 31.58},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 7), Close = 32.06},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 8), Close = 32.89},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 9), Close = 32.7},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 12), Close = 32.87},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 13), Close = 32.23},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 14), Close = 32.35},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 15), Close = 31.79},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 16), Close = 31.8},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 19), Close = 31.39},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 20), Close = 31.62},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 21), Close = 31.61},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 22), Close = 32.39},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 23), Close = 34.75},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 26), Close = 34.15},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 27), Close = 33.26},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 28), Close = 33.02},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 29), Close = 33.55},
                new HistoricalQuote {Date = new DateTime(2013, 8 , 30), Close = 33.4},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 3), Close = 31.88},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 4), Close = 31.2},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 5), Close = 31.23},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 6), Close = 31.15},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 9), Close = 31.66},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 10), Close = 32.39},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 11), Close = 32.74},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 12), Close = 32.69},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 13), Close = 33.03},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 16), Close = 32.8},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 17), Close = 32.93},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 18), Close = 33.32},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 19), Close = 33.64},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 20), Close = 32.79},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 23), Close = 32.74},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 24), Close = 32.45},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 25), Close = 32.51},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 26), Close = 32.77},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 27), Close = 33.27},
                new HistoricalQuote {Date = new DateTime(2013, 9 , 30), Close = 33.28},
                new HistoricalQuote {Date = new DateTime(2013, 10, 1), Close = 33.58},
                new HistoricalQuote {Date = new DateTime(2013, 10, 2), Close = 33.92},
                new HistoricalQuote {Date = new DateTime(2013, 10, 3), Close = 33.86},
                new HistoricalQuote {Date = new DateTime(2013, 10, 4), Close = 33.88},
                new HistoricalQuote {Date = new DateTime(2013, 10, 7), Close = 33.3},
                new HistoricalQuote {Date = new DateTime(2013, 10, 8), Close = 33.01},
                new HistoricalQuote {Date = new DateTime(2013, 10, 9), Close = 33.07},
                new HistoricalQuote {Date = new DateTime(2013, 10, 10), Close = 33.76},
                new HistoricalQuote {Date = new DateTime(2013, 10, 11), Close = 34.13},
                new HistoricalQuote {Date = new DateTime(2013, 10, 14), Close = 34.45},
                new HistoricalQuote {Date = new DateTime(2013, 10, 15), Close = 34.49},
                new HistoricalQuote {Date = new DateTime(2013, 10, 16), Close = 34.64},
                new HistoricalQuote {Date = new DateTime(2013, 10, 17), Close = 34.92},
                new HistoricalQuote {Date = new DateTime(2013, 10, 18), Close = 34.96},
                new HistoricalQuote {Date = new DateTime(2013, 10, 21), Close = 34.99},
                new HistoricalQuote {Date = new DateTime(2013, 10, 22), Close = 34.58},
                new HistoricalQuote {Date = new DateTime(2013, 10, 23), Close = 33.76},
                new HistoricalQuote {Date = new DateTime(2013, 10, 24), Close = 33.72},
                new HistoricalQuote {Date = new DateTime(2013, 10, 25), Close = 35.73},
                new HistoricalQuote {Date = new DateTime(2013, 10, 28), Close = 35.57},
                new HistoricalQuote {Date = new DateTime(2013, 10, 29), Close = 35.52},
                new HistoricalQuote {Date = new DateTime(2013, 10, 30), Close = 35.54},
                new HistoricalQuote {Date = new DateTime(2013, 10, 31), Close = 35.41},
                new HistoricalQuote {Date = new DateTime(2013, 11, 1), Close = 35.53},
                new HistoricalQuote {Date = new DateTime(2013, 11, 4), Close = 35.94},
                new HistoricalQuote {Date = new DateTime(2013, 11, 5), Close = 36.64},
                new HistoricalQuote {Date = new DateTime(2013, 11, 6), Close = 38.18},
                new HistoricalQuote {Date = new DateTime(2013, 11, 7), Close = 37.5},
                new HistoricalQuote {Date = new DateTime(2013, 11, 8), Close = 37.78},
                new HistoricalQuote {Date = new DateTime(2013, 11, 11), Close = 37.59},
                new HistoricalQuote {Date = new DateTime(2013, 11, 12), Close = 37.36},
                new HistoricalQuote {Date = new DateTime(2013, 11, 13), Close = 38.16},
                new HistoricalQuote {Date = new DateTime(2013, 11, 14), Close = 38.02},
                new HistoricalQuote {Date = new DateTime(2013, 11, 15), Close = 37.84},
                new HistoricalQuote {Date = new DateTime(2013, 11, 18), Close = 37.2},
                new HistoricalQuote {Date = new DateTime(2013, 11, 19), Close = 36.74},
                new HistoricalQuote {Date = new DateTime(2013, 11, 20), Close = 37.08},
                new HistoricalQuote {Date = new DateTime(2013, 11, 21), Close = 37.4},
                new HistoricalQuote {Date = new DateTime(2013, 11, 22), Close = 37.57},
                new HistoricalQuote {Date = new DateTime(2013, 11, 25), Close = 37.64},
                new HistoricalQuote {Date = new DateTime(2013, 11, 26), Close = 37.35},
                new HistoricalQuote {Date = new DateTime(2013, 11, 27), Close = 37.6},
                new HistoricalQuote {Date = new DateTime(2013, 11, 29), Close = 38.13},
                new HistoricalQuote {Date = new DateTime(2013, 12, 2), Close = 38.45},
                new HistoricalQuote {Date = new DateTime(2013, 12, 3), Close = 38.31},
                new HistoricalQuote {Date = new DateTime(2013, 12, 4), Close = 38.94},
                new HistoricalQuote {Date = new DateTime(2013, 12, 5), Close = 38},
                new HistoricalQuote {Date = new DateTime(2013, 12, 6), Close = 38.36},
                new HistoricalQuote {Date = new DateTime(2013, 12, 9), Close = 38.71},
                new HistoricalQuote {Date = new DateTime(2013, 12, 10), Close = 38.11},
                new HistoricalQuote {Date = new DateTime(2013, 12, 11), Close = 37.61},
                new HistoricalQuote {Date = new DateTime(2013, 12, 12), Close = 37.22},
                new HistoricalQuote {Date = new DateTime(2013, 12, 13), Close = 36.69},
                new HistoricalQuote {Date = new DateTime(2013, 12, 16), Close = 36.89},
                new HistoricalQuote {Date = new DateTime(2013, 12, 17), Close = 36.52},
                new HistoricalQuote {Date = new DateTime(2013, 12, 18), Close = 36.58},
                new HistoricalQuote {Date = new DateTime(2013, 12, 19), Close = 36.25},
                new HistoricalQuote {Date = new DateTime(2013, 12, 20), Close = 36.8},
                new HistoricalQuote {Date = new DateTime(2013, 12, 23), Close = 36.62},
                new HistoricalQuote {Date = new DateTime(2013, 12, 24), Close = 37.08},
                new HistoricalQuote {Date = new DateTime(2013, 12, 26), Close = 37.44},
                new HistoricalQuote {Date = new DateTime(2013, 12, 27), Close = 37.29},
                new HistoricalQuote {Date = new DateTime(2013, 12, 30), Close = 37.29},
                new HistoricalQuote {Date = new DateTime(2013, 12, 31), Close = 37.41},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 2), Close = 37.16},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 3), Close = 36.91},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 6), Close = 36.13},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 7), Close = 36.41},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 8), Close = 35.76},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 9), Close = 35.53},
                new HistoricalQuote {Date = new DateTime(2014, 1 , 10), Close = 36.04}
            };
            #endregion
            IEMAService emaService = new EMAService();

            // Act
            var calculated = emaService.Calculate(prices, 26); // not 10, but 26 because test data is for 26

            // Assert
            #region Expected output
            var expected = new List<EMAData>
            {
                new EMAData {Date =  new DateTime(2013, 1, 2) },
                new EMAData {Date =  new DateTime(2013, 1, 3) },
                new EMAData {Date =  new DateTime(2013, 1 , 4)},
                new EMAData {Date =  new DateTime(2013, 1 , 7)},
                new EMAData {Date =  new DateTime(2013, 1 , 8)},
                new EMAData {Date =  new DateTime(2013, 1 , 9)},
                new EMAData {Date =  new DateTime(2013, 1 , 10)},
                new EMAData {Date =  new DateTime(2013, 1 , 11)},
                new EMAData {Date =  new DateTime(2013, 1 , 14)},
                new EMAData {Date =  new DateTime(2013, 1 , 15)},
                new EMAData {Date =  new DateTime(2013, 1 , 16)},
                new EMAData {Date =  new DateTime(2013, 1 , 17)},
                new EMAData {Date =  new DateTime(2013, 1 , 18)},
                new EMAData {Date =  new DateTime(2013, 1 , 22)},
                new EMAData {Date =  new DateTime(2013, 1 , 23)},
                new EMAData {Date =  new DateTime(2013, 1 , 24)},
                new EMAData {Date =  new DateTime(2013, 1 , 25)},
                new EMAData {Date =  new DateTime(2013, 1 , 28)},
                new EMAData {Date =  new DateTime(2013, 1 , 29)},
                new EMAData {Date =  new DateTime(2013, 1 , 30)},
                new EMAData {Date =  new DateTime(2013, 1 , 31)},
                new EMAData {Date =  new DateTime(2013, 2 , 1) },
                new EMAData {Date =  new DateTime(2013, 2 , 4) },
                new EMAData {Date =  new DateTime(2013, 2 , 5) },
                new EMAData {Date =  new DateTime(2013, 2 , 6) },
                new EMAData {Date =  new DateTime(2013, 2 , 7), EMA =  27.28692308m},
                new EMAData {Date =  new DateTime(2013, 2 , 8), EMA =  27.30641026m},
                new EMAData {Date =  new DateTime(2013, 2 , 11), EMA = 27.3474169m },
                new EMAData {Date =  new DateTime(2013, 2 , 12), EMA = 27.3868675m },
                new EMAData {Date =  new DateTime(2013, 2 , 13), EMA = 27.43450695m},
                new EMAData {Date =  new DateTime(2013, 2 , 14), EMA = 27.47935829m},
                new EMAData {Date =  new DateTime(2013, 2 , 15), EMA = 27.51866508m},
                new EMAData {Date =  new DateTime(2013, 2 , 19), EMA = 27.55802322m},
                new EMAData {Date =  new DateTime(2013, 2 , 20), EMA = 27.58113261m},
                new EMAData {Date =  new DateTime(2013, 2 , 21), EMA = 27.57438205m},
                new EMAData {Date =  new DateTime(2013, 2 , 22), EMA = 27.58813153m},
                new EMAData {Date =  new DateTime(2013, 2 , 25), EMA = 27.57197364m},
                new EMAData {Date =  new DateTime(2013, 2 , 26), EMA = 27.55701263m},
                new EMAData {Date =  new DateTime(2013, 2 , 27), EMA = 27.57575243m},
                new EMAData {Date =  new DateTime(2013, 2 , 28), EMA = 27.59236336m},
                new EMAData {Date =  new DateTime(2013, 3 , 1), EMA =  27.61885496m},
                new EMAData {Date =  new DateTime(2013, 3 , 4), EMA =  27.65819904m},
                new EMAData {Date =  new DateTime(2013, 3 , 5), EMA =  27.70944356m},
                new EMAData {Date =  new DateTime(2013, 3 , 6), EMA =  27.73763292m},
                new EMAData {Date =  new DateTime(2013, 3 , 7), EMA =  27.76743789m},
                new EMAData {Date =  new DateTime(2013, 3 , 8), EMA =  27.78466471m},
                new EMAData {Date =  new DateTime(2013, 3 , 11), EMA = 27.79098585m},
                new EMAData {Date =  new DateTime(2013, 3 , 12), EMA = 27.79980171m},
                new EMAData {Date =  new DateTime(2013, 3 , 13), EMA = 27.80870529m},
                new EMAData {Date =  new DateTime(2013, 3 , 14), EMA = 27.83324564m},
                new EMAData {Date =  new DateTime(2013, 3 , 15), EMA = 27.84856077m},
                new EMAData {Date =  new DateTime(2013, 3 , 18), EMA = 27.8671859m },
                new EMAData {Date =  new DateTime(2013, 3 , 19), EMA = 27.89035732m},
                new EMAData {Date =  new DateTime(2013, 3 , 20), EMA = 27.9221827m },
                new EMAData {Date =  new DateTime(2013, 3 , 21), EMA = 27.93609509m},
                new EMAData {Date =  new DateTime(2013, 3 , 22), EMA = 27.95934731m},
                new EMAData {Date =  new DateTime(2013, 3 , 25), EMA = 27.97421047m},
                new EMAData {Date =  new DateTime(2013, 3 , 26), EMA = 27.98797266m},
                new EMAData {Date =  new DateTime(2013, 3 , 27), EMA = 28.01627098m},
                new EMAData {Date =  new DateTime(2013, 3 , 28), EMA = 28.06025091m},
                new EMAData {Date =  new DateTime(2013, 4 , 1), EMA =  28.10097306m},
                new EMAData {Date =  new DateTime(2013, 4 , 2), EMA =  28.15275284m},
                new EMAData {Date =  new DateTime(2013, 4 , 3), EMA =  28.18291929m},
                new EMAData {Date =  new DateTime(2013, 4 , 4), EMA =  28.21381416m},
                new EMAData {Date =  new DateTime(2013, 4 , 5), EMA =  28.24982793m},
                new EMAData {Date =  new DateTime(2013, 4 , 8), EMA =  28.27502586m},
                new EMAData {Date =  new DateTime(2013, 4 , 9), EMA =  28.37391283m},
                new EMAData {Date =  new DateTime(2013, 4 , 10), EMA = 28.51510447m},
                new EMAData {Date =  new DateTime(2013, 4 , 11), EMA = 28.54657822m},
                new EMAData {Date =  new DateTime(2013, 4 , 12), EMA = 28.56460946m},
                new EMAData {Date =  new DateTime(2013, 4 , 15), EMA = 28.57389765m},
                new EMAData {Date =  new DateTime(2013, 4 , 16), EMA = 28.60323856m},
                new EMAData {Date =  new DateTime(2013, 4 , 17), EMA = 28.62003571m},
                new EMAData {Date =  new DateTime(2013, 4 , 18), EMA = 28.63262565m},
                new EMAData {Date =  new DateTime(2013, 4 , 19), EMA = 28.7168756m },
                new EMAData {Date =  new DateTime(2013, 4 , 22), EMA = 28.87340334m},
                new EMAData {Date =  new DateTime(2013, 4 , 23), EMA = 29.00129939m},
                new EMAData {Date =  new DateTime(2013, 4 , 24), EMA = 29.20564758m},
                new EMAData {Date =  new DateTime(2013, 4 , 25), EMA = 29.4081922m },
                new EMAData {Date =  new DateTime(2013, 4 , 26), EMA = 29.58462241m},
                new EMAData {Date =  new DateTime(2013, 4 , 29), EMA = 29.80872445m},
                new EMAData {Date =  new DateTime(2013, 4 , 30), EMA = 30.05252264m},
                new EMAData {Date =  new DateTime(2013, 5 , 1), EMA =  30.25011356m},
                new EMAData {Date =  new DateTime(2013, 5 , 2), EMA =  30.4656607m },
                new EMAData {Date =  new DateTime(2013, 5 , 3), EMA =  30.68968584m},
                new EMAData {Date =  new DateTime(2013, 5 , 6), EMA =  30.91637577m},
                new EMAData {Date =  new DateTime(2013, 5 , 7), EMA =  31.09368127m},
                new EMAData {Date =  new DateTime(2013, 5 , 8), EMA =  31.23414933m},
                new EMAData {Date =  new DateTime(2013, 5 , 9), EMA =  31.33976789m},
                new EMAData {Date =  new DateTime(2013, 5 , 10), EMA = 31.43978509m},
                new EMAData {Date =  new DateTime(2013, 5 , 13), EMA = 31.55757878m},
                new EMAData {Date =  new DateTime(2013, 5 , 14), EMA = 31.70368406m},
                new EMAData {Date =  new DateTime(2013, 5 , 15), EMA = 31.86267043m},
                new EMAData {Date =  new DateTime(2013, 5 , 16), EMA = 32.02691706m},
                new EMAData {Date =  new DateTime(2013, 5 , 17), EMA = 32.2375158m },
                new EMAData {Date =  new DateTime(2013, 5 , 20), EMA = 32.44807018m},
                new EMAData {Date =  new DateTime(2013, 5 , 21), EMA = 32.62599091m},
                new EMAData {Date =  new DateTime(2013, 5 , 22), EMA = 32.77295455m},
                new EMAData {Date =  new DateTime(2013, 5 , 23), EMA = 32.87495791m},
                new EMAData {Date =  new DateTime(2013, 5 , 24), EMA = 32.97829436m},
                new EMAData {Date =  new DateTime(2013, 5 , 28), EMA = 33.12953182m},
                new EMAData {Date =  new DateTime(2013, 5 , 29), EMA = 33.25919613m},
                new EMAData {Date =  new DateTime(2013, 5 , 30), EMA = 33.39036679m},
                new EMAData {Date =  new DateTime(2013, 5 , 31), EMA = 33.50219147m},
                new EMAData {Date =  new DateTime(2013, 6 , 3), EMA =  33.65684395m},
                new EMAData {Date =  new DateTime(2013, 6 , 4), EMA =  33.75559625m},
                new EMAData {Date =  new DateTime(2013, 6 , 5), EMA =  33.83147801m},
                new EMAData {Date =  new DateTime(2013, 6 , 6), EMA =  33.91507223m},
                new EMAData {Date =  new DateTime(2013, 6 , 7), EMA =  34.04506688m},
                new EMAData {Date =  new DateTime(2013, 6 , 10), EMA = 34.15061748m},
                new EMAData {Date =  new DateTime(2013, 6 , 11), EMA = 34.20168285m},
                new EMAData {Date =  new DateTime(2013, 6 , 12), EMA = 34.26081746m},
                new EMAData {Date =  new DateTime(2013, 6 , 13), EMA = 34.29483098m},
                new EMAData {Date =  new DateTime(2013, 6 , 14), EMA = 34.30262128m},
                new EMAData {Date =  new DateTime(2013, 6 , 17), EMA = 34.35427896m},
                new EMAData {Date =  new DateTime(2013, 6 , 18), EMA = 34.40062867m},
                new EMAData {Date =  new DateTime(2013, 6 , 19), EMA = 34.41465617m},
                new EMAData {Date =  new DateTime(2013, 6 , 20), EMA = 34.34616312m},
                new EMAData {Date =  new DateTime(2013, 6 , 21), EMA = 34.26644734m},
                new EMAData {Date =  new DateTime(2013, 6 , 24), EMA = 34.22596976m},
                new EMAData {Date =  new DateTime(2013, 6 , 25), EMA = 34.18478681m},
                new EMAData {Date =  new DateTime(2013, 6 , 26), EMA = 34.19702483m},
                new EMAData {Date =  new DateTime(2013, 6 , 27), EMA = 34.22835632m},
                new EMAData {Date =  new DateTime(2013, 6 , 28), EMA = 34.25144104m},
                new EMAData {Date =  new DateTime(2013, 7 , 1), EMA =  34.25948244m},
                new EMAData {Date =  new DateTime(2013, 7 , 2), EMA =  34.23581708m},
                new EMAData {Date =  new DateTime(2013, 7 , 3), EMA =  34.21908988m},
                new EMAData {Date =  new DateTime(2013, 7 , 5), EMA =  34.21841656m},
                new EMAData {Date =  new DateTime(2013, 7 , 8), EMA =  34.226682m  },
                new EMAData {Date =  new DateTime(2013, 7 , 9), EMA =  34.23581667m},
                new EMAData {Date =  new DateTime(2013, 7 , 10), EMA = 34.27020062m},
                new EMAData {Date =  new DateTime(2013, 7 , 11), EMA = 34.37537094m},
                new EMAData {Date =  new DateTime(2013, 7 , 12), EMA = 34.47126939m},
                new EMAData {Date =  new DateTime(2013, 7 , 15), EMA = 34.59710129m},
                new EMAData {Date =  new DateTime(2013, 7 , 16), EMA = 34.72101971m},
                new EMAData {Date =  new DateTime(2013, 7 , 17), EMA = 34.79649973m},
                new EMAData {Date =  new DateTime(2013, 7 , 18), EMA = 34.84416642m},
                new EMAData {Date =  new DateTime(2013, 7 , 19), EMA = 34.58904298m},
                new EMAData {Date =  new DateTime(2013, 7 , 22), EMA = 34.39800276m},
                new EMAData {Date =  new DateTime(2013, 7 , 23), EMA = 34.20703959m},
                new EMAData {Date =  new DateTime(2013, 7 , 24), EMA = 34.04059221m},
                new EMAData {Date =  new DateTime(2013, 7 , 25), EMA = 33.84425205m},
                new EMAData {Date =  new DateTime(2013, 7 , 26), EMA = 33.67949264m},
                new EMAData {Date =  new DateTime(2013, 7 , 29), EMA = 33.5210117m },
                new EMAData {Date =  new DateTime(2013, 7 , 30), EMA = 33.39723306m},
                new EMAData {Date =  new DateTime(2013, 7 , 31), EMA = 33.28188246m},
                new EMAData {Date =  new DateTime(2013, 8 , 1), EMA =  33.16248376m},
                new EMAData {Date =  new DateTime(2013, 8 , 2), EMA =  33.0682257m },
                new EMAData {Date =  new DateTime(2013, 8 , 5), EMA =  32.96687565m},
                new EMAData {Date =  new DateTime(2013, 8 , 6), EMA =  32.86414412m},
                new EMAData {Date =  new DateTime(2013, 8 , 7), EMA =  32.80457789m},
                new EMAData {Date =  new DateTime(2013, 8 , 8), EMA =  32.81090545m},
                new EMAData {Date =  new DateTime(2013, 8 , 9), EMA =  32.80269024m},
                new EMAData {Date =  new DateTime(2013, 8 , 12), EMA = 32.80767614m},
                new EMAData {Date =  new DateTime(2013, 8 , 13), EMA = 32.76488532m},
                new EMAData {Date =  new DateTime(2013, 8 , 14), EMA = 32.73415307m},
                new EMAData {Date =  new DateTime(2013, 8 , 15), EMA = 32.66421581m},
                new EMAData {Date =  new DateTime(2013, 8 , 16), EMA = 32.60019982m},
                new EMAData {Date =  new DateTime(2013, 8 , 19), EMA = 32.51055539m},
                new EMAData {Date =  new DateTime(2013, 8 , 20), EMA = 32.44458833m},
                new EMAData {Date =  new DateTime(2013, 8 , 21), EMA = 32.38276697m},
                new EMAData {Date =  new DateTime(2013, 8 , 22), EMA = 32.38330275m},
                new EMAData {Date =  new DateTime(2013, 8 , 23), EMA = 32.55861366m},
                new EMAData {Date =  new DateTime(2013, 8 , 26), EMA = 32.67649413m},
                new EMAData {Date =  new DateTime(2013, 8 , 27), EMA = 32.71971678m},
                new EMAData {Date =  new DateTime(2013, 8 , 28), EMA = 32.74195998m},
                new EMAData {Date =  new DateTime(2013, 8 , 29), EMA = 32.8018148m },
                new EMAData {Date =  new DateTime(2013, 8 , 30), EMA = 32.84612481m},
                new EMAData {Date =  new DateTime(2013, 9 , 3), EMA =  32.77456001m},
                new EMAData {Date =  new DateTime(2013, 9 , 4), EMA =  32.65792594m},
                new EMAData {Date =  new DateTime(2013, 9 , 5), EMA =  32.55215365m},
                new EMAData {Date =  new DateTime(2013, 9 , 6), EMA =  32.44829041m},
                new EMAData {Date =  new DateTime(2013, 9 , 9), EMA =  32.38989853m},
                new EMAData {Date =  new DateTime(2013, 9 , 10), EMA = 32.38990605m},
                new EMAData {Date =  new DateTime(2013, 9 , 11), EMA = 32.41583893m},
                new EMAData {Date =  new DateTime(2013, 9 , 12), EMA = 32.43614716m},
                new EMAData {Date =  new DateTime(2013, 9 , 13), EMA = 32.48013626m},
                new EMAData {Date =  new DateTime(2013, 9 , 16), EMA = 32.50382987m},
                new EMAData {Date =  new DateTime(2013, 9 , 17), EMA = 32.53539803m},
                new EMAData {Date =  new DateTime(2013, 9 , 18), EMA = 32.59351669m},
                new EMAData {Date =  new DateTime(2013, 9 , 19), EMA = 32.67103397m},
                new EMAData {Date =  new DateTime(2013, 9 , 20), EMA = 32.67984627m},
                new EMAData {Date =  new DateTime(2013, 9 , 23), EMA = 32.6843021m },
                new EMAData {Date =  new DateTime(2013, 9 , 24), EMA = 32.66694639m},
                new EMAData {Date =  new DateTime(2013, 9 , 25), EMA = 32.65532073m},
                new EMAData {Date =  new DateTime(2013, 9 , 26), EMA = 32.66381549m},
                new EMAData {Date =  new DateTime(2013, 9 , 27), EMA = 32.70871805m},
                new EMAData {Date =  new DateTime(2013, 9 , 30), EMA = 32.75103523m},
                new EMAData {Date =  new DateTime(2013, 10, 1), EMA =  32.81244003m},
                new EMAData {Date =  new DateTime(2013, 10, 2), EMA =  32.89448151m},
                new EMAData {Date =  new DateTime(2013, 10, 3), EMA =  32.9660014m },
                new EMAData {Date =  new DateTime(2013, 10, 4), EMA =  33.033705m  },
                new EMAData {Date =  new DateTime(2013, 10, 7), EMA =  33.05343055m},
                new EMAData {Date =  new DateTime(2013, 10, 8), EMA =  33.05021348m},
                new EMAData {Date =  new DateTime(2013, 10, 9), EMA =  33.05167914m},
                new EMAData {Date =  new DateTime(2013, 10, 10), EMA = 33.10414736m},
                new EMAData {Date =  new DateTime(2013, 10, 11), EMA = 33.18013644m},
                new EMAData {Date =  new DateTime(2013, 10, 14), EMA = 33.27420041m},
                new EMAData {Date =  new DateTime(2013, 10, 15), EMA = 33.36425964m},
                new EMAData {Date =  new DateTime(2013, 10, 16), EMA = 33.45875892m},
                new EMAData {Date =  new DateTime(2013, 10, 17), EMA = 33.566999m  },
                new EMAData {Date =  new DateTime(2013, 10, 18), EMA = 33.67018426m},
                new EMAData {Date =  new DateTime(2013, 10, 21), EMA = 33.76794839m},
                new EMAData {Date =  new DateTime(2013, 10, 22), EMA = 33.82810036m},
                new EMAData {Date =  new DateTime(2013, 10, 23), EMA = 33.82305589m},
                new EMAData {Date =  new DateTime(2013, 10, 24), EMA = 33.81542212m},
                new EMAData {Date =  new DateTime(2013, 10, 25), EMA = 33.9572427m },
                new EMAData {Date =  new DateTime(2013, 10, 28), EMA = 34.07670621m},
                new EMAData {Date =  new DateTime(2013, 10, 29), EMA = 34.18361686m},
                new EMAData {Date =  new DateTime(2013, 10, 30), EMA = 34.28408968m},
                new EMAData {Date =  new DateTime(2013, 10, 31), EMA = 34.36749045m},
                new EMAData {Date =  new DateTime(2013, 11, 1), EMA =  34.45360227m},
                new EMAData {Date =  new DateTime(2013, 11, 4), EMA =  34.5637058m },
                new EMAData {Date =  new DateTime(2013, 11, 5), EMA =  34.71750537m},
                new EMAData {Date =  new DateTime(2013, 11, 6), EMA =  34.97398646m},
                new EMAData {Date =  new DateTime(2013, 11, 7), EMA =  35.16109857m},
                new EMAData {Date =  new DateTime(2013, 11, 8), EMA =  35.35509127m},
                new EMAData {Date =  new DateTime(2013, 11, 11), EMA = 35.52064006m},
                new EMAData {Date =  new DateTime(2013, 11, 12), EMA = 35.65688895m},
                new EMAData {Date =  new DateTime(2013, 11, 13), EMA = 35.84230458m},
                new EMAData {Date =  new DateTime(2013, 11, 14), EMA = 36.00361535m},
                new EMAData {Date =  new DateTime(2013, 11, 15), EMA = 36.13964385m},
                new EMAData {Date =  new DateTime(2013, 11, 18), EMA = 36.21818875m},
                new EMAData {Date =  new DateTime(2013, 11, 19), EMA = 36.25684143m},
                new EMAData {Date =  new DateTime(2013, 11, 20), EMA = 36.31781614m},
                new EMAData {Date =  new DateTime(2013, 11, 21), EMA = 36.39797791m},
                new EMAData {Date =  new DateTime(2013, 11, 22), EMA = 36.48479436m},
                new EMAData {Date =  new DateTime(2013, 11, 25), EMA = 36.57036515m},
                new EMAData {Date =  new DateTime(2013, 11, 26), EMA = 36.62811588m},
                new EMAData {Date =  new DateTime(2013, 11, 27), EMA = 36.70010729m},
                new EMAData {Date =  new DateTime(2013, 11, 29), EMA = 36.80602527m},
                new EMAData {Date =  new DateTime(2013, 12, 2), EMA =  36.92780118m},
                new EMAData {Date =  new DateTime(2013, 12, 3), EMA =  37.03018628m},
                new EMAData {Date =  new DateTime(2013, 12, 4), EMA =  37.17165396m},
                new EMAData {Date =  new DateTime(2013, 12, 5), EMA =  37.23301292m},
                new EMAData {Date =  new DateTime(2013, 12, 6), EMA =  37.31649345m},
                new EMAData {Date =  new DateTime(2013, 12, 9), EMA =  37.41971616m},
                new EMAData {Date =  new DateTime(2013, 12, 10), EMA = 37.47084829m},
                new EMAData {Date =  new DateTime(2013, 12, 11), EMA = 37.48115583m},
                new EMAData {Date =  new DateTime(2013, 12, 12), EMA = 37.46181095m},
                new EMAData {Date =  new DateTime(2013, 12, 13), EMA = 37.40463977m},
                new EMAData {Date =  new DateTime(2013, 12, 16), EMA = 37.3665183m },
                new EMAData {Date =  new DateTime(2013, 12, 17), EMA = 37.30381325m},
                new EMAData {Date =  new DateTime(2013, 12, 18), EMA = 37.25019745m},
                new EMAData {Date =  new DateTime(2013, 12, 19), EMA = 37.17610875m},
                new EMAData {Date =  new DateTime(2013, 12, 20), EMA = 37.14824884m},
                new EMAData {Date =  new DateTime(2013, 12, 23), EMA = 37.1091193m },
                new EMAData {Date =  new DateTime(2013, 12, 24), EMA = 37.10696231m},
                new EMAData {Date =  new DateTime(2013, 12, 26), EMA = 37.13163177m},
                new EMAData {Date =  new DateTime(2013, 12, 27), EMA = 37.14336275m},
                new EMAData {Date =  new DateTime(2013, 12, 30), EMA = 37.15422477m},
                new EMAData {Date =  new DateTime(2013, 12, 31), EMA = 37.17317108m},
                new EMAData {Date =  new DateTime(2014, 1 , 2), EMA =  37.17219545m},
                new EMAData {Date =  new DateTime(2014, 1 , 3), EMA =  37.15277356m},
                new EMAData {Date =  new DateTime(2014, 1 , 6), EMA =  37.07701256m},
                new EMAData {Date =  new DateTime(2014, 1 , 7), EMA =  37.02760422m},
                new EMAData {Date =  new DateTime(2014, 1 , 8), EMA =  36.93370761m},
                new EMAData {Date =  new DateTime(2014, 1 , 9), EMA =  36.82972927m},
                new EMAData {Date =  new DateTime(2014, 1 , 10), EMA = 36.77123081m},
            };
            #endregion
            var expectedLast = expected.Last();
            var calculatedLast = calculated.Last();
            Assert.Equal(expectedLast.EMA, decimal.Round(calculatedLast.EMA, 8)); // TODO: check if this is correct way of caomparing decimals
        }
    }
}

